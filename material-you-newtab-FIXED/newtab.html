<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Material You New Tab</title>
<link rel="preconnect" href="https://fonts.googleapis.com">
<link href="https://fonts.googleapis.com/css2?family=Google+Sans:wght@300;400;500;700&family=Google+Sans+Display:wght@300;400&family=Material+Symbols+Rounded:opsz,wght,FILL,GRAD@20..48,100..700,0..1,-50..200&display=swap" rel="stylesheet">
<style>
  :root {
    --md-primary: #6750A4;
    --md-on-primary: #FFFFFF;
    --md-primary-container: #EADDFF;
    --md-on-primary-container: #21005D;
    --md-secondary: #625B71;
    --md-secondary-container: #E8DEF8;
    --md-tertiary: #7D5260;
    --md-tertiary-container: #FFD8E4;
    --md-surface: #FFFBFE;
    --md-surface-variant: #E7E0EC;
    --md-on-surface: #1C1B1F;
    --md-on-surface-variant: #49454F;
    --md-outline: #79747E;
    --md-outline-variant: #CAC4D0;
    --md-background: #FFFBFE;
    --md-shadow: rgba(0,0,0,0.15);
    --md-scrim: rgba(0,0,0,0.32);
  }
  .dark {
    --md-primary: #D0BCFF;
    --md-on-primary: #381E72;
    --md-primary-container: #4F378B;
    --md-on-primary-container: #EADDFF;
    --md-secondary: #CCC2DC;
    --md-secondary-container: #4A4458;
    --md-surface: #1C1B1F;
    --md-surface-variant: #49454F;
    --md-on-surface: #E6E1E5;
    --md-on-surface-variant: #CAC4D0;
    --md-outline: #938F99;
    --md-outline-variant: #49454F;
    --md-background: #1C1B1F;
    --md-shadow: rgba(0,0,0,0.5);
  }
  * { margin: 0; padding: 0; box-sizing: border-box; }
  body {
    font-family: 'Google Sans', sans-serif;
    background: var(--md-background);
    color: var(--md-on-surface);
    min-height: 100vh;
    overflow-x: hidden;
    transition: background 0.4s, color 0.4s;
  }
  #wallpaper-bg { position: fixed; inset: 0; z-index: -1; background-size: cover; background-position: center; }
  body.has-wallpaper #wallpaper-bg { filter: brightness(0.75) saturate(1.2); }
  body.has-wallpaper .card { background: rgba(15,12,20,0.6) !important; backdrop-filter: blur(20px); border: 1px solid rgba(255,255,255,0.1) !important; }
  body.has-wallpaper .card, body.has-wallpaper .card * { color: #f0eeff !important; }
  body.has-wallpaper .search-bar { background: rgba(255,255,255,0.15) !important; color: #fff !important; border-color: rgba(255,255,255,0.3) !important; }
  body.has-wallpaper .search-bar::placeholder { color: rgba(255,255,255,0.6) !important; }
  body.has-wallpaper .app-item:hover { background: rgba(255,255,255,0.12); }
  body.has-wallpaper .app-label { color: rgba(255,255,255,0.85) !important; }
  body.has-wallpaper .section-tabs { border-bottom-color: rgba(255,255,255,0.2); }
  body.has-wallpaper .tab-btn { color: rgba(255,255,255,0.7); }
  body.has-wallpaper .tab-btn.active { color: #D0BCFF; border-bottom-color: #D0BCFF; }
  body.has-wallpaper .apps-section-title { color: rgba(255,255,255,0.5); }
  body.has-wallpaper #digital-clock, body.has-wallpaper #date-display, body.has-wallpaper .greeting-block h2, body.has-wallpaper .greeting-block p { color: #fff !important; }

  .page { max-width: 1100px; margin: 0 auto; padding: 28px 20px 80px; display: flex; flex-direction: column; gap: 20px; }

  .topbar { display: flex; justify-content: space-between; align-items: center; }
  .greeting-block h2 { font-family: 'Google Sans Display', sans-serif; font-size: clamp(20px,3.5vw,30px); font-weight: 400; }
  .greeting-block p { font-size: 13px; color: var(--md-on-surface-variant); margin-top: 2px; }
  .topbar-actions { display: flex; gap: 6px; align-items: center; }
  .icon-btn { width: 40px; height: 40px; border-radius: 50%; border: none; background: transparent; color: var(--md-on-surface-variant); cursor: pointer; display: flex; align-items: center; justify-content: center; transition: background 0.2s; }
  .icon-btn:hover { background: var(--md-surface-variant); }
  .icon-btn .material-symbols-rounded { font-size: 22px; }

  .clock-section { text-align: center; padding: 4px 0; }
  #digital-clock { font-family: 'Google Sans Display', sans-serif; font-size: clamp(52px,11vw,88px); font-weight: 300; letter-spacing: -2px; line-height: 1; }
  #date-display { font-size: 15px; color: var(--md-on-surface-variant); margin-top: 6px; }
  #analog-clock { display: none; margin: 0 auto; width: 150px; height: 150px; }
  #analog-clock svg { width: 100%; height: 100%; }

  .search-container { position: relative; max-width: 600px; margin: 0 auto; width: 100%; }
  .search-bar { width: 100%; height: 54px; border-radius: 27px; border: 1px solid var(--md-outline-variant); background: var(--md-surface-variant); padding: 0 120px 0 52px; font-family: 'Google Sans', sans-serif; font-size: 16px; color: var(--md-on-surface); outline: none; transition: all 0.2s; box-shadow: 0 1px 4px var(--md-shadow); }
  .search-bar:focus { border-color: var(--md-primary); background: var(--md-surface); box-shadow: 0 3px 10px var(--md-shadow); }
  .search-icon { position: absolute; left: 16px; top: 50%; transform: translateY(-50%); color: var(--md-on-surface-variant); font-size: 22px; }
  .search-engine-toggle { position: absolute; right: 8px; top: 50%; transform: translateY(-50%); }
  .search-engine-btn { height: 38px; padding: 0 14px; border-radius: 19px; border: none; background: var(--md-primary-container); color: var(--md-on-primary-container); font-family: 'Google Sans', sans-serif; font-size: 13px; font-weight: 500; cursor: pointer; transition: filter 0.2s; }
  .search-engine-btn:hover { filter: brightness(0.95); }
  .engine-dropdown { position: absolute; top: 100%; right: 0; margin-top: 8px; background: var(--md-surface); border: 1px solid var(--md-outline-variant); border-radius: 16px; overflow: hidden; box-shadow: 0 4px 16px var(--md-shadow); z-index: 50; display: none; min-width: 160px; }
  .engine-dropdown.open { display: block; }
  .engine-option { padding: 11px 16px; cursor: pointer; font-size: 14px; display: flex; align-items: center; gap: 8px; transition: background 0.15s; }
  .engine-option:hover { background: var(--md-surface-variant); }
  .engine-option.active { color: var(--md-primary); font-weight: 500; }

  .section-tabs { display: flex; gap: 6px; border-bottom: 1px solid var(--md-outline-variant); }
  .tab-btn { padding: 10px 18px; border: none; background: transparent; font-family: 'Google Sans', sans-serif; font-size: 14px; font-weight: 500; color: var(--md-on-surface-variant); cursor: pointer; border-radius: 8px 8px 0 0; transition: all 0.2s; border-bottom: 3px solid transparent; margin-bottom: -1px; }
  .tab-btn:hover { color: var(--md-on-surface); background: var(--md-surface-variant); }
  .tab-btn.active { color: var(--md-primary); border-bottom-color: var(--md-primary); background: transparent; }
  .tab-panel { display: none; }
  .tab-panel.active { display: block; }

  .apps-section-title { font-size: 11px; font-weight: 600; text-transform: uppercase; letter-spacing: 1.2px; color: var(--md-on-surface-variant); margin: 18px 0 10px; }
  .apps-grid { display: grid; grid-template-columns: repeat(auto-fill, minmax(82px,1fr)); gap: 4px; }
  .app-item { display: flex; flex-direction: column; align-items: center; gap: 6px; padding: 10px 4px 9px; border-radius: 16px; text-decoration: none; cursor: pointer; transition: background 0.2s, transform 0.15s; animation: fadeUp 0.35s ease both; }
  .app-item:hover { background: var(--md-surface-variant); transform: translateY(-2px); }
  .app-icon-wrap { width: 50px; height: 50px; border-radius: 16px; display: flex; align-items: center; justify-content: center; font-size: 24px; transition: transform 0.2s; }
  .app-item:hover .app-icon-wrap { transform: scale(1.1); }
  .app-label { font-size: 11px; color: var(--md-on-surface-variant); text-align: center; white-space: nowrap; overflow: hidden; text-overflow: ellipsis; max-width: 78px; line-height: 1.3; }

  @keyframes fadeUp { from { opacity: 0; transform: translateY(12px); } to { opacity: 1; transform: translateY(0); } }

  .cards-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(280px,1fr)); gap: 16px; margin-top: 8px; }
  .card { background: var(--md-surface); border-radius: 24px; padding: 20px; border: 1px solid var(--md-outline-variant); box-shadow: 0 1px 4px var(--md-shadow); transition: all 0.3s; animation: fadeUp 0.4s ease both; }
  .card:hover { box-shadow: 0 4px 14px var(--md-shadow); transform: translateY(-2px); }
  .card-title { font-size: 11px; font-weight: 600; text-transform: uppercase; letter-spacing: 1px; color: var(--md-on-surface-variant); margin-bottom: 14px; }

  .weather-card { background: linear-gradient(135deg, var(--md-primary-container), var(--md-tertiary-container)) !important; border-color: transparent !important; }
  .weather-main { display: flex; align-items: center; gap: 16px; }
  .weather-emoji { font-size: 52px; line-height: 1; }
  .weather-temp { font-size: 40px; font-weight: 300; color: var(--md-on-primary-container); line-height: 1; }
  .weather-desc { font-size: 13px; color: var(--md-on-primary-container); margin-top: 4px; text-transform: capitalize; }
  .weather-city { font-size: 11px; color: var(--md-on-primary-container); opacity: 0.8; margin-top: 2px; }
  .weather-details { display: flex; gap: 14px; margin-top: 12px; flex-wrap: wrap; }
  .weather-detail { display: flex; align-items: center; gap: 4px; font-size: 12px; color: var(--md-on-primary-container); }
  .weather-detail .material-symbols-rounded { font-size: 14px; }
  .weather-setup { display: flex; flex-direction: column; align-items: center; gap: 10px; padding: 16px; text-align: center; color: var(--md-on-surface-variant); }
  .weather-setup .material-symbols-rounded { font-size: 36px; color: var(--md-primary); }

  .todo-input-row { display: flex; gap: 8px; margin-bottom: 12px; }
  .todo-input { flex: 1; height: 40px; border-radius: 12px; border: 1px solid var(--md-outline-variant); background: var(--md-surface-variant); padding: 0 12px; font-family: 'Google Sans', sans-serif; font-size: 14px; color: var(--md-on-surface); outline: none; }
  .todo-input:focus { border-color: var(--md-primary); }
  .add-btn { width: 40px; height: 40px; border-radius: 50%; border: none; background: var(--md-primary); color: var(--md-on-primary); cursor: pointer; display: flex; align-items: center; justify-content: center; transition: all 0.2s; flex-shrink: 0; }
  .add-btn:hover { filter: brightness(1.1); transform: scale(1.05); }
  .todo-list { list-style: none; display: flex; flex-direction: column; gap: 5px; max-height: 200px; overflow-y: auto; }
  .todo-item { display: flex; align-items: center; gap: 10px; padding: 8px 10px; border-radius: 12px; background: var(--md-surface-variant); animation: slideIn 0.2s ease; }
  @keyframes slideIn { from { opacity:0; transform: translateX(-8px); } to { opacity:1; transform: translateX(0); } }
  .todo-checkbox { width: 20px; height: 20px; border-radius: 50%; border: 2px solid var(--md-outline); cursor: pointer; flex-shrink: 0; display: flex; align-items: center; justify-content: center; transition: all 0.2s; }
  .todo-checkbox.checked { background: var(--md-primary); border-color: var(--md-primary); }
  .todo-checkbox.checked::after { content: 'âœ“'; color: #fff; font-size: 11px; }
  .todo-text { flex: 1; font-size: 14px; color: var(--md-on-surface); }
  .todo-text.done { text-decoration: line-through; color: var(--md-on-surface-variant); }
  .todo-delete { background: none; border: none; cursor: pointer; color: var(--md-on-surface-variant); opacity: 0; padding: 2px; transition: opacity 0.2s; }
  .todo-item:hover .todo-delete { opacity: 1; }

  .settings-overlay { position: fixed; inset: 0; background: var(--md-scrim); z-index: 100; opacity: 0; pointer-events: none; transition: opacity 0.3s; }
  .settings-overlay.open { opacity: 1; pointer-events: all; }
  .settings-panel { position: fixed; right: 0; top: 0; bottom: 0; width: 330px; background: var(--md-surface); z-index: 101; padding: 24px; transform: translateX(100%); transition: transform 0.35s cubic-bezier(0.4,0,0.2,1); overflow-y: auto; display: flex; flex-direction: column; gap: 20px; }
  .settings-panel.open { transform: translateX(0); }
  .settings-header { display: flex; align-items: center; justify-content: space-between; }
  .settings-title { font-size: 18px; font-weight: 500; }
  .setting-group label { font-size: 11px; text-transform: uppercase; letter-spacing: 1px; color: var(--md-on-surface-variant); display: block; margin-bottom: 8px; }
  .setting-input { width: 100%; height: 40px; border-radius: 12px; border: 1px solid var(--md-outline-variant); background: var(--md-surface-variant); padding: 0 12px; font-family: 'Google Sans', sans-serif; font-size: 14px; color: var(--md-on-surface); outline: none; }
  .setting-input:focus { border-color: var(--md-primary); }
  .color-swatches { display: flex; gap: 8px; flex-wrap: wrap; }
  .swatch { width: 36px; height: 36px; border-radius: 50%; cursor: pointer; border: 3px solid transparent; transition: all 0.2s; }
  .swatch:hover { transform: scale(1.15); }
  .swatch.active { border-color: var(--md-on-surface); }
  .toggle-row { display: flex; align-items: center; justify-content: space-between; padding: 4px 0; }
  .toggle-label { font-size: 14px; }
  .toggle { width: 48px; height: 28px; border-radius: 14px; background: var(--md-surface-variant); border: 2px solid var(--md-outline); position: relative; cursor: pointer; transition: background 0.2s, border-color 0.2s; }
  .toggle.on { background: var(--md-primary); border-color: var(--md-primary); }
  .toggle::after { content: ''; width: 20px; height: 20px; border-radius: 50%; background: var(--md-outline); position: absolute; top: 2px; left: 2px; transition: transform 0.2s, background 0.2s; }
  .toggle.on::after { transform: translateX(20px); background: var(--md-on-primary); }
  .action-btn { width: 100%; height: 40px; border-radius: 12px; border: 1px solid var(--md-outline-variant); background: var(--md-secondary-container); color: var(--md-on-surface); font-family: 'Google Sans', sans-serif; font-size: 14px; cursor: pointer; display: flex; align-items: center; justify-content: center; gap: 8px; transition: filter 0.2s; margin-top: 6px; }
  .action-btn:hover { filter: brightness(0.95); }

  .fab { position: fixed; bottom: 24px; right: 24px; width: 56px; height: 56px; border-radius: 16px; border: none; background: var(--md-primary-container); color: var(--md-on-primary-container); cursor: pointer; display: flex; align-items: center; justify-content: center; font-size: 24px; box-shadow: 0 3px 10px var(--md-shadow); transition: all 0.2s; z-index: 10; }
  .fab:hover { transform: scale(1.05); box-shadow: 0 6px 18px var(--md-shadow); }

  .snackbar { position: fixed; bottom: 24px; left: 50%; transform: translateX(-50%) translateY(80px); background: var(--md-on-surface); color: var(--md-surface); padding: 12px 20px; border-radius: 12px; font-size: 14px; z-index: 200; transition: transform 0.3s; white-space: nowrap; }
  .snackbar.show { transform: translateX(-50%) translateY(0); }

  /* â”€â”€ Bookmarks â”€â”€ */
  .bm-toolbar { display: flex; align-items: center; gap: 10px; margin-bottom: 16px; margin-top: 8px; flex-wrap: wrap; }
  .bm-folder-tabs { display: flex; gap: 6px; flex-wrap: wrap; flex: 1; }
  .bm-folder-chip { padding: 6px 14px; border-radius: 20px; border: 1px solid var(--md-outline-variant); background: transparent; font-family: 'Google Sans', sans-serif; font-size: 13px; color: var(--md-on-surface-variant); cursor: pointer; transition: all 0.2s; white-space: nowrap; }
  .bm-folder-chip:hover { background: var(--md-surface-variant); }
  .bm-folder-chip.active { background: var(--md-primary-container); color: var(--md-on-primary-container); border-color: transparent; font-weight: 500; }
  .bm-add-btn { height: 36px; padding: 0 14px; border-radius: 18px; border: none; background: var(--md-primary); color: var(--md-on-primary); font-family: 'Google Sans', sans-serif; font-size: 13px; font-weight: 500; cursor: pointer; display: flex; align-items: center; gap: 6px; transition: filter 0.2s; white-space: nowrap; flex-shrink: 0; }
  .bm-add-btn:hover { filter: brightness(1.1); }
  .bm-grid { display: grid; grid-template-columns: repeat(auto-fill, minmax(200px, 1fr)); gap: 10px; }
  .bm-card { display: flex; align-items: center; gap: 12px; padding: 12px 14px; border-radius: 16px; background: var(--md-surface); border: 1px solid var(--md-outline-variant); text-decoration: none; cursor: pointer; transition: all 0.2s; animation: fadeUp 0.3s ease both; position: relative; group: bm; }
  .bm-card:hover { background: var(--md-surface-variant); transform: translateY(-2px); box-shadow: 0 3px 10px var(--md-shadow); }
  .bm-favicon { width: 36px; height: 36px; border-radius: 10px; flex-shrink: 0; display: flex; align-items: center; justify-content: center; font-size: 18px; font-weight: 700; color: #fff; }
  .bm-info { flex: 1; overflow: hidden; }
  .bm-title { font-size: 13px; font-weight: 500; color: var(--md-on-surface); white-space: nowrap; overflow: hidden; text-overflow: ellipsis; }
  .bm-url { font-size: 11px; color: var(--md-on-surface-variant); white-space: nowrap; overflow: hidden; text-overflow: ellipsis; margin-top: 2px; }
  .bm-delete { position: absolute; top: 6px; right: 6px; width: 24px; height: 24px; border-radius: 50%; border: none; background: var(--md-surface-variant); color: var(--md-on-surface-variant); cursor: pointer; display: none; align-items: center; justify-content: center; font-size: 14px; transition: background 0.2s; }
  .bm-card:hover .bm-delete { display: flex; }
  .bm-delete:hover { background: #B3261E; color: #fff; }
  .bm-empty { display: flex; flex-direction: column; align-items: center; gap: 12px; padding: 40px 20px; color: var(--md-on-surface-variant); text-align: center; }
  .bm-empty .material-symbols-rounded { font-size: 48px; color: var(--md-primary); opacity: 0.5; }
  .bm-empty p { font-size: 14px; }

  /* â”€â”€ Add Bookmark Modal â”€â”€ */
  .modal-overlay { position: fixed; inset: 0; background: var(--md-scrim); z-index: 200; opacity: 0; pointer-events: none; transition: opacity 0.25s; display: flex; align-items: center; justify-content: center; }
  .modal-overlay.open { opacity: 1; pointer-events: all; }
  .modal { background: var(--md-surface); border-radius: 28px; padding: 28px; width: 100%; max-width: 380px; box-shadow: 0 8px 32px var(--md-shadow); transform: scale(0.92); transition: transform 0.25s cubic-bezier(0.4,0,0.2,1); }
  .modal-overlay.open .modal { transform: scale(1); }
  .modal-title { font-size: 18px; font-weight: 500; margin-bottom: 20px; }
  .modal-field { margin-bottom: 14px; }
  .modal-field label { font-size: 12px; color: var(--md-on-surface-variant); display: block; margin-bottom: 6px; text-transform: uppercase; letter-spacing: 0.8px; }
  .modal-input { width: 100%; height: 44px; border-radius: 12px; border: 1px solid var(--md-outline-variant); background: var(--md-surface-variant); padding: 0 14px; font-family: 'Google Sans', sans-serif; font-size: 14px; color: var(--md-on-surface); outline: none; }
  .modal-input:focus { border-color: var(--md-primary); }
  .modal-select { width: 100%; height: 44px; border-radius: 12px; border: 1px solid var(--md-outline-variant); background: var(--md-surface-variant); padding: 0 14px; font-family: 'Google Sans', sans-serif; font-size: 14px; color: var(--md-on-surface); outline: none; appearance: none; cursor: pointer; }
  .modal-select:focus { border-color: var(--md-primary); }
  .modal-actions { display: flex; justify-content: flex-end; gap: 10px; margin-top: 20px; }
  .modal-cancel { padding: 10px 20px; border-radius: 12px; border: none; background: var(--md-surface-variant); color: var(--md-on-surface); font-family: 'Google Sans', sans-serif; font-size: 14px; cursor: pointer; transition: filter 0.2s; }
  .modal-cancel:hover { filter: brightness(0.95); }
  .modal-save { padding: 10px 20px; border-radius: 12px; border: none; background: var(--md-primary); color: var(--md-on-primary); font-family: 'Google Sans', sans-serif; font-size: 14px; font-weight: 500; cursor: pointer; transition: filter 0.2s; }
  .modal-save:hover { filter: brightness(1.1); }

  /* new folder btn */
  .bm-new-folder-btn { height: 36px; padding: 0 12px; border-radius: 18px; border: 1px dashed var(--md-outline); background: transparent; color: var(--md-on-surface-variant); font-family: 'Google Sans', sans-serif; font-size: 13px; cursor: pointer; display: flex; align-items: center; gap: 5px; transition: all 0.2s; }
  .bm-new-folder-btn:hover { background: var(--md-surface-variant); color: var(--md-on-surface); }

  body.has-wallpaper .bm-card { background: rgba(15,12,20,0.55) !important; backdrop-filter: blur(16px); border-color: rgba(255,255,255,0.1) !important; }
  body.has-wallpaper .bm-title { color: #fff !important; }
  body.has-wallpaper .bm-url { color: rgba(255,255,255,0.6) !important; }
  body.has-wallpaper .bm-folder-chip { border-color: rgba(255,255,255,0.2); color: rgba(255,255,255,0.7); }

  @media (max-width: 600px) { .page { padding: 16px 12px 70px; gap: 16px; } .settings-panel { width: 100%; } .apps-grid { grid-template-columns: repeat(auto-fill, minmax(70px,1fr)); } }
</style>
</head>
<body>
<div id="wallpaper-bg"></div>
<div class="page">

  <div class="topbar">
    <div class="greeting-block">
      <h2 id="greeting-text">Good Morning! â˜€ï¸</h2>
      <p id="greeting-name">Welcome back</p>
    </div>
    <div class="topbar-actions">
      <button class="icon-btn" id="clock-toggle-btn" title="Toggle clock style"><span class="material-symbols-rounded">schedule</span></button>
      <button class="icon-btn" id="theme-toggle-btn" title="Toggle dark mode"><span class="material-symbols-rounded">dark_mode</span></button>
      <button class="icon-btn" id="settings-btn" title="Settings"><span class="material-symbols-rounded">settings</span></button>
    </div>
  </div>

  <div class="clock-section">
    <div id="digital-clock">00:00</div>
    <div id="analog-clock">
      <svg viewBox="0 0 200 200">
        <circle cx="100" cy="100" r="95" fill="var(--md-primary-container)" stroke="var(--md-outline-variant)" stroke-width="2"/>
        <g id="hour-marks"></g>
        <line id="hour-hand"   x1="100" y1="100" x2="100" y2="55" stroke="var(--md-on-surface)" stroke-width="5" stroke-linecap="round"/>
        <line id="minute-hand" x1="100" y1="100" x2="100" y2="35" stroke="var(--md-on-surface)" stroke-width="3" stroke-linecap="round"/>
        <line id="second-hand" x1="100" y1="112" x2="100" y2="30" stroke="var(--md-primary)" stroke-width="1.5" stroke-linecap="round"/>
        <circle cx="100" cy="100" r="5" fill="var(--md-primary)"/>
      </svg>
    </div>
    <div id="date-display"></div>
  </div>

  <div class="search-container">
    <span class="material-symbols-rounded search-icon">search</span>
    <input type="text" class="search-bar" id="search-input" placeholder="Search the webâ€¦" autocomplete="off">
    <div class="search-engine-toggle">
      <button class="search-engine-btn" id="engine-btn">Google</button>
      <div class="engine-dropdown" id="engine-dropdown">
        <div class="engine-option active" data-name="Google" data-url="https://google.com/search?q=">ğŸ”µ Google</div>
        <div class="engine-option" data-name="DuckDuckGo" data-url="https://duckduckgo.com/?q=">ğŸ¦† DuckDuckGo</div>
        <div class="engine-option" data-name="Bing" data-url="https://bing.com/search?q=">ğŸ”· Bing</div>
        <div class="engine-option" data-name="Brave" data-url="https://search.brave.com/search?q=">ğŸ¦ Brave</div>
        <div class="engine-option" data-name="YouTube" data-url="https://youtube.com/results?search_query=">â–¶ï¸ YouTube</div>
        <div class="engine-option" data-name="Perplexity" data-url="https://perplexity.ai/search?q=">âš¡ Perplexity</div>
      </div>
    </div>
  </div>

  <div class="section-tabs">
    <button class="tab-btn active" data-tab="google">ğŸ”· Google Apps</button>
    <button class="tab-btn" data-tab="ai">ğŸ¤– AI Tools</button>
    <button class="tab-btn" data-tab="bookmarks">ğŸ”– Bookmarks</button>
    <button class="tab-btn" data-tab="dashboard">ğŸ“Š Dashboard</button>
  </div>

  <!-- GOOGLE APPS -->
  <div class="tab-panel active" id="tab-google">
    <div class="apps-section-title">Communication</div>
    <div class="apps-grid" id="grid-communication"></div>
    <div class="apps-section-title">Productivity & Office</div>
    <div class="apps-grid" id="grid-productivity"></div>
    <div class="apps-section-title">Media & Entertainment</div>
    <div class="apps-grid" id="grid-media"></div>
    <div class="apps-section-title">Cloud & Developer</div>
    <div class="apps-grid" id="grid-cloud"></div>
    <div class="apps-section-title">Maps, Search & More</div>
    <div class="apps-grid" id="grid-more"></div>
  </div>

  <!-- AI TOOLS -->
  <div class="tab-panel" id="tab-ai">
    <div class="apps-section-title">Conversational AI Chatbots</div>
    <div class="apps-grid" id="grid-chat-ai"></div>
    <div class="apps-section-title">Image & Art Generation</div>
    <div class="apps-grid" id="grid-image-ai"></div>
    <div class="apps-section-title">Video & Audio AI</div>
    <div class="apps-grid" id="grid-video-ai"></div>
    <div class="apps-section-title">Writing & Content AI</div>
    <div class="apps-grid" id="grid-writing-ai"></div>
    <div class="apps-section-title">Code & Developer AI</div>
    <div class="apps-grid" id="grid-code-ai"></div>
    <div class="apps-section-title">Search & Research AI</div>
    <div class="apps-grid" id="grid-search-ai"></div>
  </div>


  <!-- BOOKMARKS -->
  <div class="tab-panel" id="tab-bookmarks">
    <div class="bm-toolbar">
      <div class="bm-folder-tabs" id="bm-folder-tabs"></div>
      <button class="bm-new-folder-btn" id="bm-new-folder">
        <span class="material-symbols-rounded" style="font-size:16px">create_new_folder</span> New Folder
      </button>
      <button class="bm-add-btn" id="bm-add-btn">
        <span class="material-symbols-rounded" style="font-size:16px">bookmark_add</span> Add Bookmark
      </button>
    </div>
    <div class="bm-grid" id="bm-grid"></div>
  </div>

  <!-- DASHBOARD -->
  <div class="tab-panel" id="tab-dashboard">
    <div class="cards-grid">
      <div class="card weather-card">
        <div class="card-title">Weather</div>
        <div id="weather-content">
          <div class="weather-setup">
            <span class="material-symbols-rounded">partly_cloudy_day</span>
            <p style="font-size:13px">Set your city in settings to see weather</p>
          </div>
        </div>
      </div>
      <div class="card">
        <div class="card-title">To-Do List</div>
        <div class="todo-input-row">
          <input type="text" class="todo-input" id="todo-input" placeholder="Add a taskâ€¦">
          <button class="add-btn" id="todo-add"><span class="material-symbols-rounded">add</span></button>
        </div>
        <ul class="todo-list" id="todo-list"></ul>
      </div>
    </div>
  </div>

</div>

<button class="fab" id="settings-fab" title="Customize"><span class="material-symbols-rounded">palette</span></button>

<div class="settings-overlay" id="settings-overlay"></div>
<div class="settings-panel" id="settings-panel">
  <div class="settings-header">
    <div class="settings-title">Customize</div>
    <button class="icon-btn" id="settings-close"><span class="material-symbols-rounded">close</span></button>
  </div>
  <div class="setting-group">
    <label>Your Name</label>
    <input type="text" class="setting-input" id="name-input" placeholder="Your name">
  </div>
  <div class="setting-group">
    <label>Color Theme</label>
    <div class="color-swatches" id="color-swatches">
      <div class="swatch active" style="background:#6750A4" data-idx="0"></div>
      <div class="swatch" style="background:#006874" data-idx="1"></div>
      <div class="swatch" style="background:#B3261E" data-idx="2"></div>
      <div class="swatch" style="background:#386A1F" data-idx="3"></div>
      <div class="swatch" style="background:#7B5800" data-idx="4"></div>
      <div class="swatch" style="background:#005CBB" data-idx="5"></div>
    </div>
  </div>
  <div class="setting-group">
    <label>Appearance</label>
    <div class="toggle-row">
      <span class="toggle-label">Dark Mode</span>
      <div class="toggle" id="dark-toggle"></div>
    </div>
    <div class="toggle-row" style="margin-top:8px">
      <span class="toggle-label">Analog Clock</span>
      <div class="toggle" id="analog-toggle"></div>
    </div>
  </div>
  <div class="setting-group">
    <label>Weather City</label>
    <input type="text" class="setting-input" id="city-input" placeholder="e.g. Dhaka, BD">
    <button class="action-btn" id="weather-save-btn"><span class="material-symbols-rounded">check</span> Save City</button>
  </div>
  <div class="setting-group">
    <label>Wallpaper</label>
    <button class="action-btn" id="wallpaper-upload-btn"><span class="material-symbols-rounded">upload</span> Upload Image</button>
    <input type="file" id="wallpaper-file" accept="image/*" style="display:none">
    <button class="action-btn" id="wallpaper-clear-btn"><span class="material-symbols-rounded">delete</span> Remove Wallpaper</button>
  </div>
</div>


<!-- Add Bookmark Modal -->
<div class="modal-overlay" id="bm-modal-overlay">
  <div class="modal">
    <div class="modal-title" id="bm-modal-title">Add Bookmark</div>
    <div class="modal-field">
      <label>Title</label>
      <input type="text" class="modal-input" id="bm-title-input" placeholder="e.g. My Website">
    </div>
    <div class="modal-field">
      <label>URL</label>
      <input type="text" class="modal-input" id="bm-url-input" placeholder="https://example.com">
    </div>
    <div class="modal-field">
      <label>Folder</label>
      <select class="modal-select" id="bm-folder-select"></select>
    </div>
    <div class="modal-actions">
      <button class="modal-cancel" id="bm-modal-cancel">Cancel</button>
      <button class="modal-save" id="bm-modal-save">Save</button>
    </div>
  </div>
</div>

<!-- New Folder Modal -->
<div class="modal-overlay" id="folder-modal-overlay">
  <div class="modal">
    <div class="modal-title">New Folder</div>
    <div class="modal-field">
      <label>Folder Name</label>
      <input type="text" class="modal-input" id="folder-name-input" placeholder="e.g. Work, News, Shoppingâ€¦">
    </div>
    <div class="modal-actions">
      <button class="modal-cancel" id="folder-modal-cancel">Cancel</button>
      <button class="modal-save" id="folder-modal-save">Create</button>
    </div>
  </div>
</div>

<div class="snackbar" id="snackbar"></div>

<script>
const GOOGLE_APPS = {
  communication: [
    {label:'Gmail',     url:'https://gmail.com',                    emoji:'ğŸ“§', bg:'#EA4335'},
    {label:'Meet',      url:'https://meet.google.com',              emoji:'ğŸ“¹', bg:'#00897B'},
    {label:'Chat',      url:'https://chat.google.com',              emoji:'ğŸ’¬', bg:'#1A73E8'},
    {label:'Voice',     url:'https://voice.google.com',             emoji:'ğŸ“', bg:'#34A853'},
    {label:'Messages',  url:'https://messages.google.com',          emoji:'ğŸ’Œ', bg:'#1A73E8'},
    {label:'Contacts',  url:'https://contacts.google.com',          emoji:'ğŸ‘¤', bg:'#1A73E8'},
    {label:'Groups',    url:'https://groups.google.com',            emoji:'ğŸ‘¥', bg:'#EA4335'},
    {label:'Hangouts',  url:'https://hangouts.google.com',          emoji:'ğŸ’­', bg:'#00BCD4'},
  ],
  productivity: [
    {label:'Drive',     url:'https://drive.google.com',             emoji:'ğŸ’¾', bg:'#FBBC04'},
    {label:'Docs',      url:'https://docs.google.com',              emoji:'ğŸ“„', bg:'#4285F4'},
    {label:'Sheets',    url:'https://sheets.google.com',            emoji:'ğŸ“Š', bg:'#34A853'},
    {label:'Slides',    url:'https://slides.google.com',            emoji:'ğŸ“½ï¸', bg:'#FBBC04'},
    {label:'Forms',     url:'https://forms.google.com',             emoji:'ğŸ“‹', bg:'#7B1FA2'},
    {label:'Calendar',  url:'https://calendar.google.com',          emoji:'ğŸ“…', bg:'#1A73E8'},
    {label:'Keep',      url:'https://keep.google.com',              emoji:'ğŸ“Œ', bg:'#F4B400'},
    {label:'Tasks',     url:'https://tasks.google.com',             emoji:'âœ…', bg:'#1A73E8'},
    {label:'Sites',     url:'https://sites.google.com',             emoji:'ğŸŒ', bg:'#1A73E8'},
    {label:'Classroom', url:'https://classroom.google.com',         emoji:'ğŸ“', bg:'#34A853'},
    {label:'Jamboard',  url:'https://jamboard.google.com',          emoji:'ğŸ–Šï¸', bg:'#EA4335'},
    {label:'AppSheet',  url:'https://appsheet.com',                 emoji:'ğŸ“±', bg:'#1A73E8'},
    {label:'Looker',    url:'https://lookerstudio.google.com',      emoji:'ğŸ“ˆ', bg:'#4285F4'},
  ],
  media: [
    {label:'YouTube',   url:'https://youtube.com',                  emoji:'â–¶ï¸', bg:'#FF0000'},
    {label:'YT Music',  url:'https://music.youtube.com',            emoji:'ğŸµ', bg:'#FF0000'},
    {label:'Photos',    url:'https://photos.google.com',            emoji:'ğŸ–¼ï¸', bg:'#EA4335'},
    {label:'YT TV',     url:'https://tv.youtube.com',               emoji:'ğŸ“º', bg:'#FF0000'},
    {label:'Play',      url:'https://play.google.com',              emoji:'ğŸ®', bg:'#01875F'},
    {label:'Books',     url:'https://books.google.com',             emoji:'ğŸ“š', bg:'#4285F4'},
    {label:'Podcasts',  url:'https://podcasts.google.com',          emoji:'ğŸ™ï¸', bg:'#FF8800'},
    {label:'Arts',      url:'https://artsandculture.google.com',    emoji:'ğŸ¨', bg:'#EA4335'},
    {label:'Stadia',    url:'https://stadia.google.com',            emoji:'ğŸ•¹ï¸', bg:'#CD2D2D'},
  ],
  cloud: [
    {label:'Cloud',     url:'https://console.cloud.google.com',     emoji:'â˜ï¸', bg:'#1A73E8'},
    {label:'Firebase',  url:'https://firebase.google.com',          emoji:'ğŸ”¥', bg:'#FF6D00'},
    {label:'Colab',     url:'https://colab.research.google.com',    emoji:'ğŸ§ª', bg:'#F4B400'},
    {label:'Workspace', url:'https://workspace.google.com',         emoji:'ğŸ¢', bg:'#1A73E8'},
    {label:'Analytics', url:'https://analytics.google.com',         emoji:'ğŸ“ˆ', bg:'#FF6D00'},
    {label:'Ads',       url:'https://ads.google.com',               emoji:'ğŸ“£', bg:'#4285F4'},
    {label:'Search Con',url:'https://search.google.com/search-console', emoji:'ğŸ”', bg:'#EA4335'},
    {label:'Domains',   url:'https://domains.google.com',           emoji:'ğŸŒ', bg:'#1A73E8'},
    {label:'BigQuery',  url:'https://cloud.google.com/bigquery',    emoji:'ğŸ—„ï¸', bg:'#4285F4'},
    {label:'Vertex AI', url:'https://cloud.google.com/vertex-ai',   emoji:'ğŸ¤–', bg:'#8AB4F8'},
  ],
  more: [
    {label:'Search',    url:'https://google.com',                   emoji:'ğŸ”', bg:'#4285F4'},
    {label:'Maps',      url:'https://maps.google.com',              emoji:'ğŸ—ºï¸', bg:'#34A853'},
    {label:'Translate', url:'https://translate.google.com',         emoji:'ğŸŒ', bg:'#4285F4'},
    {label:'News',      url:'https://news.google.com',              emoji:'ğŸ“°', bg:'#EA4335'},
    {label:'Shopping',  url:'https://shopping.google.com',          emoji:'ğŸ›ï¸', bg:'#EA4335'},
    {label:'Flights',   url:'https://flights.google.com',           emoji:'âœˆï¸', bg:'#1A73E8'},
    {label:'Hotels',    url:'https://hotels.google.com',            emoji:'ğŸ¨', bg:'#34A853'},
    {label:'Finance',   url:'https://finance.google.com',           emoji:'ğŸ’°', bg:'#34A853'},
    {label:'Earth',     url:'https://earth.google.com',             emoji:'ğŸŒ', bg:'#34A853'},
    {label:'Gemini',    url:'https://gemini.google.com',            emoji:'âœ¨', bg:'#8AB4F8'},
    {label:'NotebookLM',url:'https://notebooklm.google.com',        emoji:'ğŸ““', bg:'#1A73E8'},
    {label:'Lens',      url:'https://lens.google.com',              emoji:'ğŸ”­', bg:'#EA4335'},
    {label:'Scholar',   url:'https://scholar.google.com',           emoji:'ğŸ“', bg:'#4285F4'},
    {label:'Patents',   url:'https://patents.google.com',           emoji:'âš—ï¸', bg:'#4285F4'},
    {label:'Trends',    url:'https://trends.google.com',            emoji:'ğŸ“Š', bg:'#EA4335'},
    {label:'Alerts',    url:'https://alerts.google.com',            emoji:'ğŸ””', bg:'#FBBC04'},
  ]
};

const AI_TOOLS = {
  chat: [
    {label:'ChatGPT',      url:'https://chat.openai.com',           emoji:'ğŸ¤–', bg:'#10A37F'},
    {label:'Claude',       url:'https://claude.ai',                 emoji:'ğŸ”¶', bg:'#CC785C'},
    {label:'Gemini',       url:'https://gemini.google.com',         emoji:'âœ¨', bg:'#4285F4'},
    {label:'Copilot',      url:'https://copilot.microsoft.com',     emoji:'ğŸªŸ', bg:'#0078D4'},
    {label:'Meta AI',      url:'https://meta.ai',                   emoji:'ğŸ”µ', bg:'#0866FF'},
    {label:'Grok',         url:'https://grok.com',                  emoji:'âš¡', bg:'#000000'},
    {label:'Mistral',      url:'https://chat.mistral.ai',           emoji:'ğŸŒŠ', bg:'#FF7000'},
    {label:'DeepSeek',     url:'https://chat.deepseek.com',         emoji:'ğŸ‹', bg:'#4D6BFE'},
    {label:'Llama',        url:'https://llama.meta.com',            emoji:'ğŸ¦™', bg:'#0866FF'},
    {label:'Poe',          url:'https://poe.com',                   emoji:'ğŸ’œ', bg:'#7B52AB'},
    {label:'You.com',      url:'https://you.com',                   emoji:'ğŸŸ£', bg:'#6B21A8'},
    {label:'Pi AI',        url:'https://pi.ai',                     emoji:'ğŸ¥§', bg:'#4CAF50'},
    {label:'HuggingChat',  url:'https://huggingface.co/chat',       emoji:'ğŸ¤—', bg:'#FF9D00'},
    {label:'Cohere',       url:'https://coral.cohere.com',          emoji:'ğŸŒ€', bg:'#39594D'},
    {label:'Inflection',   url:'https://inflection.ai',             emoji:'ğŸ”®', bg:'#6366F1'},
    {label:'Character AI', url:'https://character.ai',              emoji:'ğŸ­', bg:'#1E1E2E'},
    {label:'Replika',      url:'https://replika.com',               emoji:'ğŸ¤', bg:'#5B8DEF'},
    {label:'Jasper Chat',  url:'https://jasper.ai',                 emoji:'ğŸ’¬', bg:'#FF7043'},
    {label:'Bing AI',      url:'https://bing.com/chat',             emoji:'ğŸ”·', bg:'#0078D4'},
    {label:'Qwen',         url:'https://tongyi.aliyun.com',         emoji:'ğŸ‡¨ğŸ‡³', bg:'#FF6A00'},
  ],
  image: [
    {label:'Midjourney',   url:'https://midjourney.com',            emoji:'ğŸ¨', bg:'#000000'},
    {label:'DALLÂ·E',       url:'https://openai.com/dall-e-3',       emoji:'ğŸ–¼ï¸', bg:'#10A37F'},
    {label:'Stable Diff',  url:'https://stability.ai',              emoji:'ğŸŒ…', bg:'#7A12AC'},
    {label:'Firefly',      url:'https://firefly.adobe.com',         emoji:'ğŸ¦‹', bg:'#FF0000'},
    {label:'Ideogram',     url:'https://ideogram.ai',               emoji:'ğŸ’¡', bg:'#5C6BC0'},
    {label:'Leonardo',     url:'https://app.leonardo.ai',           emoji:'ğŸ­', bg:'#7C3AED'},
    {label:'Bing Image',   url:'https://www.bing.com/images/create',emoji:'ğŸ–Œï¸', bg:'#0078D4'},
    {label:'Canva AI',     url:'https://canva.com',                 emoji:'âœï¸', bg:'#00C4CC'},
    {label:'Playground',   url:'https://playground.com',            emoji:'ğŸª', bg:'#FF6B6B'},
    {label:'NightCafe',    url:'https://nightcafe.studio',          emoji:'ğŸŒƒ', bg:'#1A1A2E'},
    {label:'Artbreeder',   url:'https://artbreeder.com',            emoji:'ğŸŒ±', bg:'#2ECC71'},
    {label:'Dream',        url:'https://dream.ai',                  emoji:'ğŸ’­', bg:'#6C5CE7'},
    {label:'Krea AI',      url:'https://krea.ai',                   emoji:'ğŸ”®', bg:'#FF4081'},
    {label:'Clipdrop',     url:'https://clipdrop.co',               emoji:'âœ‚ï¸', bg:'#7C3AED'},
    {label:'Remove.bg',    url:'https://remove.bg',                 emoji:'ğŸ”²', bg:'#6EE2C0'},
    {label:'Fotor AI',     url:'https://fotor.com',                 emoji:'ğŸ“·', bg:'#FF8C00'},
  ],
  video: [
    {label:'Sora',         url:'https://sora.com',                  emoji:'ğŸŒŒ', bg:'#10A37F'},
    {label:'Runway',       url:'https://app.runwayml.com',          emoji:'ğŸ¬', bg:'#4527A0'},
    {label:'Pika',         url:'https://pika.art',                  emoji:'âš¡', bg:'#FF6B35'},
    {label:'Kling AI',     url:'https://klingai.com',               emoji:'ğŸ¥', bg:'#000000'},
    {label:'Luma',         url:'https://lumalabs.ai',               emoji:'ğŸŒ™', bg:'#6366F1'},
    {label:'HeyGen',       url:'https://heygen.com',                emoji:'ğŸ­', bg:'#FF4500'},
    {label:'Synthesia',    url:'https://synthesia.io',              emoji:'ğŸ¦', bg:'#1F69FF'},
    {label:'Eleven Labs',  url:'https://elevenlabs.io',             emoji:'ğŸ™ï¸', bg:'#000000'},
    {label:'Murf AI',      url:'https://murf.ai',                   emoji:'ğŸ”Š', bg:'#7C3AED'},
    {label:'Suno',         url:'https://suno.ai',                   emoji:'ğŸµ', bg:'#000000'},
    {label:'Udio',         url:'https://udio.com',                  emoji:'ğŸ¶', bg:'#FF006E'},
    {label:'Descript',     url:'https://descript.com',              emoji:'ğŸ™', bg:'#5B17EA'},
    {label:'Invideo AI',   url:'https://invideo.io',                emoji:'ğŸ“¹', bg:'#7B2FBE'},
    {label:'D-ID',         url:'https://d-id.com',                  emoji:'ğŸ§‘', bg:'#2563EB'},
  ],
  writing: [
    {label:'Jasper',       url:'https://jasper.ai',                 emoji:'âœï¸', bg:'#FF7043'},
    {label:'Copy.ai',      url:'https://copy.ai',                   emoji:'ğŸ“', bg:'#7C3AED'},
    {label:'Writesonic',   url:'https://writesonic.com',            emoji:'ğŸ“¢', bg:'#22C55E'},
    {label:'Notion AI',    url:'https://notion.so',                 emoji:'ğŸ““', bg:'#000000'},
    {label:'Grammarly',    url:'https://grammarly.com',             emoji:'âœ…', bg:'#15C39A'},
    {label:'QuillBot',     url:'https://quillbot.com',              emoji:'ğŸ–Šï¸', bg:'#67C254'},
    {label:'Wordtune',     url:'https://wordtune.com',              emoji:'ğŸµ', bg:'#FF6B6B'},
    {label:'Rytr',         url:'https://rytr.me',                   emoji:'ğŸ“–', bg:'#6C5CE7'},
    {label:'Anyword',      url:'https://anyword.com',               emoji:'ğŸ’¬', bg:'#1DB954'},
    {label:'Ink AI',       url:'https://inkforall.com',             emoji:'ğŸ–‹ï¸', bg:'#2563EB'},
    {label:'Sudowrite',    url:'https://sudowrite.com',             emoji:'ğŸ“š', bg:'#EC4899'},
    {label:'Hypotenuse',   url:'https://hypotenuse.ai',             emoji:'ğŸ“', bg:'#8B5CF6'},
  ],
  code: [
    {label:'GitHub Copilot',url:'https://github.com/features/copilot', emoji:'ğŸ‘¾', bg:'#24292E'},
    {label:'Cursor',       url:'https://cursor.com',                emoji:'ğŸ–±ï¸', bg:'#000000'},
    {label:'Windsurf',     url:'https://windsurf.ai',               emoji:'ğŸ„', bg:'#0EA5E9'},
    {label:'Replit AI',    url:'https://replit.com',                emoji:'ğŸ”', bg:'#F26207'},
    {label:'Tabnine',      url:'https://tabnine.com',               emoji:'âŒ¨ï¸', bg:'#6366F1'},
    {label:'Codeium',      url:'https://codeium.com',               emoji:'ğŸš€', bg:'#09B6A2'},
    {label:'Amazon Q',     url:'https://aws.amazon.com/q',          emoji:'â˜ï¸', bg:'#FF9900'},
    {label:'Bolt.new',     url:'https://bolt.new',                  emoji:'âš¡', bg:'#6366F1'},
    {label:'v0.dev',       url:'https://v0.dev',                    emoji:'ğŸ”²', bg:'#000000'},
    {label:'Lovable',      url:'https://lovable.dev',               emoji:'ğŸ’–', bg:'#FF3366'},
    {label:'Devin',        url:'https://devin.ai',                  emoji:'ğŸ¤', bg:'#4F46E5'},
    {label:'Aider',        url:'https://aider.chat',                emoji:'ğŸ§©', bg:'#1E293B'},
    {label:'Continue',     url:'https://continue.dev',              emoji:'ğŸ”„', bg:'#0D9488'},
    {label:'Phind',        url:'https://phind.com',                 emoji:'ğŸ”', bg:'#7C3AED'},
  ],
  search: [
    {label:'Perplexity',   url:'https://perplexity.ai',             emoji:'âš¡', bg:'#1D9BF0'},
    {label:'You.com',      url:'https://you.com',                   emoji:'ğŸ”', bg:'#6B21A8'},
    {label:'Consensus',    url:'https://consensus.app',             emoji:'ğŸ¯', bg:'#0EA5E9'},
    {label:'Elicit',       url:'https://elicit.org',                emoji:'ğŸ“š', bg:'#6366F1'},
    {label:'Semantic Sch', url:'https://semanticscholar.org',       emoji:'ğŸ§ ', bg:'#1E3A5F'},
    {label:'Andi',         url:'https://andisearch.com',            emoji:'ğŸ”·', bg:'#3B82F6'},
    {label:'Brave AI',     url:'https://search.brave.com',          emoji:'ğŸ¦', bg:'#FF4500'},
    {label:'Kagi',         url:'https://kagi.com',                  emoji:'ğŸŒ¿', bg:'#1A6B3A'},
    {label:'Metaphor',     url:'https://exa.ai',                    emoji:'ğŸ”—', bg:'#4F46E5'},
    {label:'Globe Explr',  url:'https://globeexplorer.ai',          emoji:'ğŸŒ', bg:'#059669'},
    {label:'Felo AI',      url:'https://felo.ai',                   emoji:'ğŸ”®', bg:'#7C3AED'},
    {label:'Storm',        url:'https://storm.genie.stanford.edu',  emoji:'â›ˆï¸', bg:'#1E40AF'},
  ]
};

let state = {
  name:'Friend', dark:false, analog:false,
  city:'', wallpaper:'', colorIdx:0,
  todos:[],
  engine:{name:'Google', url:'https://google.com/search?q='},
  activeTab:'google'
};

function loadState() {
  try { const s=localStorage.getItem('myntState3'); if(s) Object.assign(state,JSON.parse(s)); } catch(e){}
}
function saveState() {
  try { localStorage.setItem('myntState3',JSON.stringify(state)); } catch(e){}
}

function makeAppItem(app, delay) {
  const a = document.createElement('a');
  a.className = 'app-item';
  a.href = app.url;
  a.target = '_blank';
  a.rel = 'noopener noreferrer';
  a.style.animationDelay = delay + 's';
  a.innerHTML = `<div class="app-icon-wrap" style="background:${app.bg};color:#fff">${app.emoji}</div><span class="app-label">${app.label}</span>`;
  return a;
}

function renderApps() {
  const map = {
    'grid-communication': GOOGLE_APPS.communication,
    'grid-productivity':  GOOGLE_APPS.productivity,
    'grid-media':         GOOGLE_APPS.media,
    'grid-cloud':         GOOGLE_APPS.cloud,
    'grid-more':          GOOGLE_APPS.more,
    'grid-chat-ai':       AI_TOOLS.chat,
    'grid-image-ai':      AI_TOOLS.image,
    'grid-video-ai':      AI_TOOLS.video,
    'grid-writing-ai':    AI_TOOLS.writing,
    'grid-code-ai':       AI_TOOLS.code,
    'grid-search-ai':     AI_TOOLS.search,
  };
  Object.entries(map).forEach(([id, apps]) => {
    const g = document.getElementById(id);
    if (!g) return;
    g.innerHTML = '';
    apps.forEach((app, i) => g.appendChild(makeAppItem(app, i * 0.025)));
  });
}

function initHourMarks() {
  const g = document.getElementById('hour-marks');
  for (let i=0; i<12; i++) {
    const a = (i*30-90)*Math.PI/180;
    const ln = document.createElementNS('http://www.w3.org/2000/svg','line');
    ln.setAttribute('x1',100+82*Math.cos(a)); ln.setAttribute('y1',100+82*Math.sin(a));
    ln.setAttribute('x2',100+90*Math.cos(a)); ln.setAttribute('y2',100+90*Math.sin(a));
    ln.setAttribute('stroke','var(--md-on-surface-variant)');
    ln.setAttribute('stroke-width', i%3===0?'3':'1.5');
    ln.setAttribute('stroke-linecap','round');
    g.appendChild(ln);
  }
}

function updateClock() {
  const now=new Date(), h=now.getHours(), m=now.getMinutes(), s=now.getSeconds();
  document.getElementById('digital-clock').textContent = String(h).padStart(2,'0')+':'+String(m).padStart(2,'0');
  const days=['Sunday','Monday','Tuesday','Wednesday','Thursday','Friday','Saturday'];
  const months=['January','February','March','April','May','June','July','August','September','October','November','December'];
  document.getElementById('date-display').textContent = `${days[now.getDay()]}, ${months[now.getMonth()]} ${now.getDate()}, ${now.getFullYear()}`;
  const hA=((h%12)+m/60)*30-90, mA=(m+s/60)*6-90, sA=s*6-90;
  function pos(ang,len){const r=ang*Math.PI/180;return[100+len*Math.cos(r),100+len*Math.sin(r)];}
  const [hx,hy]=pos(hA,45),[mx,my]=pos(mA,60),[sx,sy]=pos(sA,65);
  const set=(id,x,y)=>{const el=document.getElementById(id);el.setAttribute('x2',x);el.setAttribute('y2',y);};
  set('hour-hand',hx,hy); set('minute-hand',mx,my); set('second-hand',sx,sy);
  const g=h<5?'Good Night ğŸŒ™':h<12?'Good Morning â˜€ï¸':h<17?'Good Afternoon ğŸŒ¤ï¸':h<21?'Good Evening ğŸŒ†':'Good Night ğŸŒ™';
  document.getElementById('greeting-text').textContent=g;
  document.getElementById('greeting-name').textContent=`Welcome back, ${state.name}!`;
}

const schemes=[
  {p:'#6750A4',pc:'#EADDFF',poc:'#21005D',sc:'#E8DEF8',dp:'#D0BCFF',dpc:'#4F378B'},
  {p:'#006874',pc:'#97F0FF',poc:'#001F24',sc:'#CCE8EC',dp:'#4DD8E6',dpc:'#004F57'},
  {p:'#B3261E',pc:'#F9DEDC',poc:'#410E0B',sc:'#FFDAD6',dp:'#F2B8B5',dpc:'#8C1D18'},
  {p:'#386A1F',pc:'#B8F397',poc:'#072100',sc:'#D8E7CB',dp:'#9DD67A',dpc:'#1F5200'},
  {p:'#7B5800',pc:'#FFDEA0',poc:'#261900',sc:'#F7DDB3',dp:'#F9BC2A',dpc:'#5C4100'},
  {p:'#005CBB',pc:'#D6E3FF',poc:'#001B3E',sc:'#D8E3F8',dp:'#A8C7FA',dpc:'#004494'},
];

function applyTheme(){
  document.body.classList.toggle('dark',state.dark);
  document.getElementById('dark-toggle').classList.toggle('on',state.dark);
  document.getElementById('theme-toggle-btn').querySelector('span').textContent=state.dark?'light_mode':'dark_mode';
}

function applyColor(idx){
  const s=schemes[idx],d=state.dark,r=document.documentElement;
  r.style.setProperty('--md-primary',d?s.dp:s.p);
  r.style.setProperty('--md-primary-container',d?s.dpc:s.pc);
  r.style.setProperty('--md-on-primary-container',d?s.pc:s.poc);
  r.style.setProperty('--md-secondary-container',s.sc);
}

function applyClock(){
  document.getElementById('digital-clock').style.display=state.analog?'none':'block';
  document.getElementById('analog-clock').style.display=state.analog?'block':'none';
  document.getElementById('analog-toggle').classList.toggle('on',state.analog);
}

function applyWallpaper(){
  const bg=document.getElementById('wallpaper-bg');
  if(state.wallpaper){bg.style.backgroundImage=`url(${state.wallpaper})`;document.body.classList.add('has-wallpaper');}
  else{bg.style.backgroundImage='';document.body.classList.remove('has-wallpaper');}
}

function renderTodos(){
  const list=document.getElementById('todo-list');
  list.innerHTML='';
  state.todos.forEach((todo,idx)=>{
    const li=document.createElement('li');
    li.className='todo-item';
    li.innerHTML=`<div class="todo-checkbox ${todo.done?'checked':''}" data-idx="${idx}"></div><span class="todo-text ${todo.done?'done':''}">${todo.text}</span><button class="todo-delete" data-idx="${idx}"><span class="material-symbols-rounded" style="font-size:16px">close</span></button>`;
    li.querySelector('.todo-checkbox').addEventListener('click',()=>{state.todos[idx].done=!state.todos[idx].done;saveState();renderTodos();});
    li.querySelector('.todo-delete').addEventListener('click',()=>{state.todos.splice(idx,1);saveState();renderTodos();});
    list.appendChild(li);
  });
}

function addTodo(){
  const inp=document.getElementById('todo-input');
  const t=inp.value.trim();
  if(!t) return;
  state.todos.push({text:t,done:false});
  inp.value='';
  saveState();renderTodos();
}

async function fetchWeather(city){
  if(!city) return;
  const cont=document.getElementById('weather-content');
  cont.innerHTML='<div class="weather-setup"><span class="material-symbols-rounded">refresh</span></div>';
  try{
    const res=await fetch(`https://wttr.in/${encodeURIComponent(city)}?format=j1`);
    const data=await res.json();
    const cur=data.current_condition[0];
    const temp=cur.temp_C,desc=cur.weatherDesc[0].value,hum=cur.humidity,wind=cur.windspeedKmph;
    const icons={sunny:'â˜€ï¸',clear:'ğŸŒ™','partly cloudy':'â›…',cloudy:'â˜ï¸',overcast:'â˜ï¸',mist:'ğŸŒ«ï¸',rain:'ğŸŒ§ï¸',drizzle:'ğŸŒ¦ï¸',snow:'â„ï¸',thunder:'â›ˆï¸',fog:'ğŸŒ«ï¸',blizzard:'â„ï¸'};
    const icon=Object.entries(icons).find(([k])=>desc.toLowerCase().includes(k))?.[1]||'ğŸŒ¤ï¸';
    cont.innerHTML=`<div class="weather-main"><div class="weather-emoji">${icon}</div><div><div class="weather-temp">${temp}Â°C</div><div class="weather-desc">${desc}</div><div class="weather-city">ğŸ“ ${city}</div></div></div><div class="weather-details"><div class="weather-detail"><span class="material-symbols-rounded">water_drop</span>${hum}%</div><div class="weather-detail"><span class="material-symbols-rounded">air</span>${wind} km/h</div></div>`;
  }catch(e){cont.innerHTML='<div class="weather-setup"><span class="material-symbols-rounded">error</span><p>Could not load weather</p></div>';}
}

function showSnackbar(msg){
  const sb=document.getElementById('snackbar');
  sb.textContent=msg;sb.classList.add('show');
  setTimeout(()=>sb.classList.remove('show'),2500);
}

function openSettings(){document.getElementById('settings-panel').classList.add('open');document.getElementById('settings-overlay').classList.add('open');}
function closeSettings(){document.getElementById('settings-panel').classList.remove('open');document.getElementById('settings-overlay').classList.remove('open');}

function init(){
  loadState();
  applyTheme();applyColor(state.colorIdx||0);applyClock();applyWallpaper();
  renderApps();renderTodos();
  initHourMarks();updateClock();
  setInterval(updateClock,1000);
  if(state.city) fetchWeather(state.city);
  setInterval(()=>{if(state.city)fetchWeather(state.city);},600000);

  document.getElementById('name-input').value=state.name||'';
  document.getElementById('city-input').value=state.city||'';

  document.querySelectorAll('.swatch').forEach(s=>s.classList.toggle('active',parseInt(s.dataset.idx)===(state.colorIdx||0)));

  if(state.engine){
    document.getElementById('engine-btn').textContent=state.engine.name;
    document.querySelectorAll('.engine-option').forEach(o=>o.classList.toggle('active',o.dataset.name===state.engine.name));
  }

  const activeTab=state.activeTab||'google';
  document.querySelectorAll('.tab-btn').forEach(b=>b.classList.toggle('active',b.dataset.tab===activeTab));
  document.querySelectorAll('.tab-panel').forEach(p=>p.classList.toggle('active',p.id==='tab-'+activeTab));

  document.querySelectorAll('.tab-btn').forEach(btn=>{
    btn.addEventListener('click',()=>{
      document.querySelectorAll('.tab-btn').forEach(b=>b.classList.remove('active'));
      document.querySelectorAll('.tab-panel').forEach(p=>p.classList.remove('active'));
      btn.classList.add('active');
      document.getElementById('tab-'+btn.dataset.tab).classList.add('active');
      state.activeTab=btn.dataset.tab;saveState();
      if(btn.dataset.tab==='bookmarks') renderBookmarks();
    });
  });

  document.getElementById('search-input').addEventListener('keydown',e=>{
    if(e.key==='Enter'){const q=e.target.value.trim();if(q)window.location.href=(state.engine?.url||'https://google.com/search?q=')+encodeURIComponent(q);}
  });

  document.getElementById('engine-btn').addEventListener('click',ev=>{ev.stopPropagation();document.getElementById('engine-dropdown').classList.toggle('open');});
  document.querySelectorAll('.engine-option').forEach(opt=>{
    opt.addEventListener('click',()=>{
      state.engine={name:opt.dataset.name,url:opt.dataset.url};
      document.getElementById('engine-btn').textContent=opt.dataset.name;
      document.querySelectorAll('.engine-option').forEach(o=>o.classList.remove('active'));
      opt.classList.add('active');
      document.getElementById('engine-dropdown').classList.remove('open');
      saveState();
    });
  });
  document.addEventListener('click',()=>document.getElementById('engine-dropdown').classList.remove('open'));

  document.getElementById('theme-toggle-btn').addEventListener('click',()=>{state.dark=!state.dark;applyTheme();applyColor(state.colorIdx||0);saveState();});
  document.getElementById('clock-toggle-btn').addEventListener('click',()=>{state.analog=!state.analog;applyClock();saveState();});
  document.getElementById('settings-btn').addEventListener('click',openSettings);
  document.getElementById('settings-fab').addEventListener('click',openSettings);
  document.getElementById('settings-close').addEventListener('click',closeSettings);
  document.getElementById('settings-overlay').addEventListener('click',closeSettings);

  document.getElementById('name-input').addEventListener('input',e=>{state.name=e.target.value||'Friend';saveState();});
  document.getElementById('dark-toggle').addEventListener('click',()=>{state.dark=!state.dark;applyTheme();applyColor(state.colorIdx||0);saveState();});
  document.getElementById('analog-toggle').addEventListener('click',()=>{state.analog=!state.analog;applyClock();saveState();});

  document.querySelectorAll('.swatch').forEach(swatch=>{
    swatch.addEventListener('click',()=>{
      const idx=parseInt(swatch.dataset.idx);
      document.querySelectorAll('.swatch').forEach(s=>s.classList.remove('active'));
      swatch.classList.add('active');
      state.colorIdx=idx;applyColor(idx);saveState();
    });
  });

  document.getElementById('weather-save-btn').addEventListener('click',()=>{
    const city=document.getElementById('city-input').value.trim();
    if(city){state.city=city;saveState();fetchWeather(city);showSnackbar('Weather updated!');}
  });

  document.getElementById('wallpaper-upload-btn').addEventListener('click',()=>document.getElementById('wallpaper-file').click());
  document.getElementById('wallpaper-file').addEventListener('change',e=>{
    const f=e.target.files[0];if(!f) return;
    const r=new FileReader();
    r.onload=ev=>{state.wallpaper=ev.target.result;saveState();applyWallpaper();showSnackbar('Wallpaper set!');};
    r.readAsDataURL(f);
  });
  document.getElementById('wallpaper-clear-btn').addEventListener('click',()=>{state.wallpaper='';saveState();applyWallpaper();showSnackbar('Wallpaper removed');});

  document.getElementById('todo-add').addEventListener('click',addTodo);
  document.getElementById('todo-input').addEventListener('keydown',e=>{if(e.key==='Enter') addTodo();});
}


// â•â•â• BOOKMARKS â•â•â•

const BM_COLORS = ['#6750A4','#006874','#B3261E','#386A1F','#7B5800','#005CBB','#7D5260','#1A73E8','#EA4335','#34A853','#FF6D00','#FF0000'];

function bmInit() {
  if (!state.bookmarks) state.bookmarks = {
    folders: ['General', 'Work', 'Social'],
    activeFolder: 'General',
    items: [
      { title: 'Google', url: 'https://google.com', folder: 'General', color: '#4285F4' },
      { title: 'YouTube', url: 'https://youtube.com', folder: 'General', color: '#FF0000' },
      { title: 'GitHub', url: 'https://github.com', folder: 'Work', color: '#24292E' },
    ]
  };
}

function bmGetColor(url) {
  const h = url.split('').reduce((a,c)=>a+c.charCodeAt(0),0);
  return BM_COLORS[h % BM_COLORS.length];
}

function bmFavLetter(title) {
  return (title || '?').charAt(0).toUpperCase();
}

function renderBookmarks() {
  bmInit();
  const bm = state.bookmarks;

  // Render folder chips
  const tabsEl = document.getElementById('bm-folder-tabs');
  tabsEl.innerHTML = '';
  bm.folders.forEach(f => {
    const chip = document.createElement('button');
    chip.className = 'bm-folder-chip' + (f === bm.activeFolder ? ' active' : '');
    chip.textContent = 'ğŸ“ ' + f;
    chip.addEventListener('click', () => {
      bm.activeFolder = f;
      saveState();
      renderBookmarks();
    });
    // Right-click to delete folder
    chip.addEventListener('contextmenu', (e) => {
      e.preventDefault();
      if (bm.folders.length <= 1) { showSnackbar("Can't delete the only folder"); return; }
      if (confirm(`Delete folder "${f}" and all its bookmarks?`)) {
        bm.items = bm.items.filter(i => i.folder !== f);
        bm.folders = bm.folders.filter(fo => fo !== f);
        if (bm.activeFolder === f) bm.activeFolder = bm.folders[0];
        saveState(); renderBookmarks();
        showSnackbar('Folder deleted');
      }
    });
    tabsEl.appendChild(chip);
  });

  // Render bookmark cards
  const grid = document.getElementById('bm-grid');
  grid.innerHTML = '';
  const filtered = bm.items.filter(i => i.folder === bm.activeFolder);

  if (filtered.length === 0) {
    grid.innerHTML = `<div class="bm-empty" style="grid-column:1/-1"><span class="material-symbols-rounded">bookmarks</span><p>No bookmarks yet.<br>Click <strong>Add Bookmark</strong> to get started!</p></div>`;
    return;
  }

  filtered.forEach((item, fi) => {
    const realIdx = bm.items.indexOf(item);
    const card = document.createElement('a');
    card.className = 'bm-card';
    card.href = item.url;
    card.target = '_blank';
    card.rel = 'noopener noreferrer';
    card.style.animationDelay = (fi * 0.04) + 's';

    const host = (() => { try { return new URL(item.url).hostname.replace('www.',''); } catch(e) { return item.url; } })();
    const color = item.color || bmGetColor(item.url);
    const letter = bmFavLetter(item.title);

    card.innerHTML = `
      <div class="bm-favicon" style="background:${color}">${letter}</div>
      <div class="bm-info">
        <div class="bm-title">${item.title}</div>
        <div class="bm-url">${host}</div>
      </div>
      <button class="bm-delete" data-idx="${realIdx}" title="Delete">
        <span class="material-symbols-rounded" style="font-size:14px">close</span>
      </button>
    `;

    card.querySelector('.bm-delete').addEventListener('click', (e) => {
      e.preventDefault(); e.stopPropagation();
      bm.items.splice(realIdx, 1);
      saveState(); renderBookmarks();
      showSnackbar('Bookmark removed');
    });

    grid.appendChild(card);
  });
}

function bmOpenModal(editIdx = -1) {
  const bm = state.bookmarks;
  const modal = document.getElementById('bm-modal-overlay');
  const titleInput = document.getElementById('bm-title-input');
  const urlInput = document.getElementById('bm-url-input');
  const folderSel = document.getElementById('bm-folder-select');
  const modalTitle = document.getElementById('bm-modal-title');

  // Populate folder select
  folderSel.innerHTML = '';
  bm.folders.forEach(f => {
    const opt = document.createElement('option');
    opt.value = f; opt.textContent = f;
    if (f === bm.activeFolder) opt.selected = true;
    folderSel.appendChild(opt);
  });

  if (editIdx >= 0) {
    const item = bm.items[editIdx];
    titleInput.value = item.title;
    urlInput.value = item.url;
    folderSel.value = item.folder;
    modalTitle.textContent = 'Edit Bookmark';
    document.getElementById('bm-modal-save').dataset.editIdx = editIdx;
  } else {
    titleInput.value = '';
    urlInput.value = '';
    modalTitle.textContent = 'Add Bookmark';
    delete document.getElementById('bm-modal-save').dataset.editIdx;
  }

  modal.classList.add('open');
  setTimeout(() => titleInput.focus(), 100);
}

function bmCloseModal() {
  document.getElementById('bm-modal-overlay').classList.remove('open');
}

function bmSave() {
  const bm = state.bookmarks;
  const title = document.getElementById('bm-title-input').value.trim();
  let url = document.getElementById('bm-url-input').value.trim();
  const folder = document.getElementById('bm-folder-select').value;

  if (!title || !url) { showSnackbar('Please fill in title and URL'); return; }
  if (!url.startsWith('http')) url = 'https://' + url;

  const editIdx = document.getElementById('bm-modal-save').dataset.editIdx;
  const color = bmGetColor(url);

  if (editIdx !== undefined && editIdx !== '') {
    bm.items[parseInt(editIdx)] = { title, url, folder, color };
    showSnackbar('Bookmark updated!');
  } else {
    bm.items.push({ title, url, folder, color });
    bm.activeFolder = folder;
    showSnackbar('Bookmark added!');
  }

  saveState();
  bmCloseModal();
  renderBookmarks();
}

function bmInitEvents() {
  document.getElementById('bm-add-btn').addEventListener('click', () => bmOpenModal());
  document.getElementById('bm-modal-cancel').addEventListener('click', bmCloseModal);
  document.getElementById('bm-modal-overlay').addEventListener('click', (e) => { if (e.target === e.currentTarget) bmCloseModal(); });
  document.getElementById('bm-modal-save').addEventListener('click', bmSave);
  document.getElementById('bm-title-input').addEventListener('keydown', e => { if (e.key === 'Enter') document.getElementById('bm-url-input').focus(); });
  document.getElementById('bm-url-input').addEventListener('keydown', e => { if (e.key === 'Enter') bmSave(); });

  // New folder
  document.getElementById('bm-new-folder').addEventListener('click', () => {
    document.getElementById('folder-modal-overlay').classList.add('open');
    setTimeout(() => document.getElementById('folder-name-input').focus(), 100);
  });
  document.getElementById('folder-modal-cancel').addEventListener('click', () => {
    document.getElementById('folder-modal-overlay').classList.remove('open');
  });
  document.getElementById('folder-modal-overlay').addEventListener('click', (e) => {
    if (e.target === e.currentTarget) document.getElementById('folder-modal-overlay').classList.remove('open');
  });
  document.getElementById('folder-modal-save').addEventListener('click', () => {
    bmInit();
    const name = document.getElementById('folder-name-input').value.trim();
    if (!name) { showSnackbar('Enter a folder name'); return; }
    if (state.bookmarks.folders.includes(name)) { showSnackbar('Folder already exists'); return; }
    state.bookmarks.folders.push(name);
    state.bookmarks.activeFolder = name;
    document.getElementById('folder-name-input').value = '';
    document.getElementById('folder-modal-overlay').classList.remove('open');
    saveState();
    renderBookmarks();
    showSnackbar('Folder created!');
  });
  document.getElementById('folder-name-input').addEventListener('keydown', e => {
    if (e.key === 'Enter') document.getElementById('folder-modal-save').click();
  });
}

bmInit();
bmInitEvents();
renderBookmarks();
init();
</script>
</body>
</html>
